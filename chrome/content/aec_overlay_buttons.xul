<?xml version="1.0" encoding="UTF-8"?>

<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at https://mozilla.org/MPL/2.0/. -->

<?xml-stylesheet href="chrome://attachmentextractor_cont/skin/aec_buttons.css" type="text/css"?>

<!DOCTYPE overlay [
  <!ENTITY % messengerDTD SYSTEM "chrome://messenger/locale/messenger.dtd">
  %messengerDTD;
  <!ENTITY % attachmentextractor_contDTD SYSTEM "chrome://attachmentextractor_cont/locale/attachmentextractor.dtd">
  %attachmentextractor_contDTD;
]>

<overlay id="aec_buttonsOverlay" 
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

  <script type="application/x-javascript" src="chrome://attachmentextractor_cont/content/aec_listener_toolbarButton.js"/>

  <toolbarpalette id="MailToolbarPalette">
    <toolbarbutton id="attachmentextractor-toolbarbutton" 
      class="toolbarbutton-1" 
      label="&attachmentextractor.toolbarbutton.label;" 
      type="menu-button"
      is="toolbarbutton-menu-button"
      tooltiptext="&attachmentextractor.toolbarbutton.tooltip2;" 
      command="cmd_aec_extractToDefault">
      <menupopup id="attachmentextractor-toolbarbutton_popup" 
        onpopupshowing="attachmentextractor.updateMRUVisability(event)">
        <menuitem id="menu_aec_extractToFolder_toolbar" 
          label="&attachmentextractor.extracttofolder.label;" 
          accesskey="&attachmentextractor.extracttofolder.accesskey;" 
          aec_mru_menuitem="NONMRU" 
          command="cmd_aec_extractToFolder" />
        <menu id="menu_aec_extractToFolder_toolbar_menu" 
          label="&attachmentextractor.extracttofolder.label;" 
          accesskey="&attachmentextractor.extracttofolder.accesskey;" 
          aec_mru_menuitem="MRU" 
          command="cmd_aec_extractToFolder_menu">
          <menupopup id="menu_aec_extractToFolder_toolbar_menu-Popup" 
            onpopupshowing="attachmentextractor.updateMRUList(this)" 
            browseText="&attachmentextractor.mrubrowsetext;" 
            paramAll="false" 
            paramPattern="false"/>
        </menu>
        <menuitem id="menu_aec_extractToSuggest_toolbar" 
          label="&attachmentextractor.extracttosuggest.label;" 
          accesskey="&attachmentextractor.extracttosuggest.accesskey;" 
          command="cmd_aec_extractToSuggest" />
        <menuitem id="menu_aec_extractPatternDefault_toolbar" 
          label="&attachmentextractor.extractpattern.label;" 
          accesskey="&attachmentextractor.extractpattern.accesskey;" 
          aec_mru_menuitem="NONMRU" 
          command="cmd_aec_extractPatternDefault" />
        <menuitem id="menu_aec_extractPatternFolder_toolbar" 
          label="&attachmentextractor.extractpatternfolder.label;" 
          accesskey="&attachmentextractor.extractpatternfolder.accesskey;" 
          aec_mru_menuitem="NONMRU" 
          command="cmd_aec_extractPatternFolder" />
        <menu id="menu_aec_extractPatternFolder_toolbar_menu" 
          label="&attachmentextractor.extractpatternfolder.label;" 
          accesskey="&attachmentextractor.extractpatternfolder.accesskey;" 
          aec_mru_menuitem="MRU" 
          command="cmd_aec_extractPatternFolder_menu">
          <menupopup id="menu_aec_extractPatternFolder_toolbar_menu-Popup" 
            onpopupshowing="attachmentextractor.updateMRUList(this)" 
            browseText="&attachmentextractor.mrubrowsetext;" 
            paramAll="false" 
            paramPattern="true">
            <menuitem id="menu_aec_extractPatternDefault_toolbar" 
              label="&attachmentextractor.mru.default.label;" 
              accesskey="&attachmentextractor.mru.default.accesskey;" 
              aec_mru_menuitem="MRU" 
              command="cmd_aec_extractPatternDefault" />
            <menuseparator aec_mru_menuitem="MRU"/>
          </menupopup>
        </menu>
      </menupopup>
    </toolbarbutton>
  </toolbarpalette>

  <toolbarpalette id="header-view-toolbar-palette">
    <toolbarbutton id="aeHdrButton" 
      class="hdrAEButton toolbarbutton-1 msgHeaderView-button customize-header-toolbar-button" 
      label="&attachmentextractor.headerbutton.label;" 
      tooltiptext="&attachmentextractor.headerbutton.tooltip;" 
      command="cmd_aec_extractToDefault">
    </toolbarbutton>
  </toolbarpalette>

</overlay>
